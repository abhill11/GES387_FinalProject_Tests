<!DOCTYPE html>
<html>
    <head>
      <meta charset="UTF-8">

        <title>Acer saccharinum</title>


        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
        integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
        crossorigin=""/>

        <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
        integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
        crossorigin=""></script>

        <!-- replace with another icon for page -->
        <!-- <link rel="icon" href="mask.png" >  -->

        <style type="text/css">
          html, body { margin: 0; padding: 0; height: 100%; }
          #map { min-height: 90%; }
        </style>

        <script type="text/javascript" src="Species_by_County.js"></script>
        <script type="text/javascript" src="Tribes.js"></script>

        <style>
          /* Optional: adjust the values below to change the appearance of the legend */
          .legend {
              padding: 6px 8px;
              line-height: 18px;
              background: rgba(255,255,255,0.9);
              box-shadow: 0 0 15px rgba(0,0,0,0.2);
              border-radius: 5px;
          }

           /* Optional: adjust the values below to change the appearance of the legend color boxes */
           .legend i {
              width: 18px;
              height: 18px;
              float: left;
              margin-right: 8px;
              opacity: 0.7;
          }
        </style>

    </head>

    <body>
        <div id="map" style="height: 500px"></div>

        <script type="text/javascript">

          var map = L.map('map', {
              center: [39.7475179,-89.1118162],
              zoom: 7
          });
// basemap
        // var antique = L.tileLayer('https://cartocdn_{s}.global.ssl.fastly.net/base-antique/{z}/{x}/{y}.png', {
        //    attribution: 'Map tiles by Carto, under CC BY 3.0. Data by OpenStreetMap, under ODbL.',
        //    maxZoom: 11,
        //    minZoom: 3
        //  }).addTo(map);

         var watercolor = L.tileLayer('http://tile.stamen.com/watercolor/{z}/{x}/{y}.png', {
             attribution: 'Map tiles by Stamen Design, under CC BY 3.0. Data by OpenStreetMap, under ODbL.',
             maxZoom: 11,
             minZoom: 3
         }).addTo(map);




             function getColor(value) {
                 return value > 0 ? '#40a00c':
                                    '#e4fcd7';
             }

             function style_aceneg(feature){
                 return {
                     fillColor: getColor(feature.properties.aceneg),
                     weight: 2,
                     opacity: 1,
                     color: 'darkgray',
                     fillOpacity: 1,
                   };
                }

                          function style_acesai(feature){
                              return {
                                  fillColor: getColor(feature.properties.acesai),
                                  weight: 2,
                                  opacity: 1,
                                  color: 'darkgray',

                                  fillOpacity: 1,
                                };
                             }

                                    function style_ascsyr(feature){
                                        return {
                                            fillColor: getColor(feature.properties.ascsyr),
                                            weight: 2,
                                            opacity: 1,
                                            color: 'darkgray',
                                            fillOpacity: 1,
                                          };
                                       }

                                                 function style_cicmac(feature){
                                                     return {
                                                         fillColor: getColor(feature.properties.cicmac),
                                                         weight: 2,
                                                         opacity: 1,
                                                         color: 'darkgray',
                                                         fillOpacity: 1,
                                                       };
                                                    }

                                                              function style_germac(feature){
                                                                  return {
                                                                      fillColor: getColor(feature.properties.germac),
                                                                      weight: 2,
                                                                      opacity: 1,
                                                                      color: 'darkgray',
                                                                      fillOpacity: 1,
                                                                    };
                                                                 }

                                                       function style_hypper_NNa(feature){
                                                           return {
                                                               fillColor: getColor(feature.properties.hypper_NNa),
                                                               weight: 2,
                                                               opacity: 1,
                                                               color: 'darkgray',
                                                               fillOpacity: 1,
                                                             };
                                                          }

                                                  function style_monfis(feature){
                                                      return {
                                                          fillColor: getColor(feature.properties.monfis),
                                                          weight: 2,
                                                          opacity: 1,
                                                          color: 'darkgray',
                                                          fillOpacity: 1,
                                                        };
                                                     }

                                           function style_nepcat_NNa(feature){
                                               return {
                                                   fillColor: getColor(feature.properties.nepcat_NNa),
                                                   weight: 2,
                                                   opacity: 1,
                                                   color: 'darkgray',
                                                   fillOpacity: 1,
                                                 };
                                              }

                                    function style_podpel(feature){
                                        return {
                                            fillColor: getColor(feature.properties.podpel),
                                            weight: 2,
                                            opacity: 1,
                                            color: 'darkgray',
                                            fillOpacity: 1,
                                          };
                                       }

                     function style_popdel(feature){
                         return {
                             fillColor: getColor(feature.properties.popdel),
                             weight: 2,
                             opacity: 1,
                             color: 'darkgray',
                             fillOpacity: 1,
                           };
                        }



            function TribeColors(value) {
                return value > 98 ? '#1b9e77':
                        value > 53 ? '#d95f02':
                        value > 35 ? '#7570b3':
                        value > 34 ? '#e7298a':
                        value > 33 ? '#66a61e':
                        value > 31 ? '#e6ab02':
                        value > 13 ? '#a6761d':
                                     '#e4fcd7';
            }

            function style_Tribes(feature){
                return {
                    fillColor: TribeColors(feature.properties.ID),
                    weight: 2,
                    opacity: 1,
                    color: 'darkgray',
                    fillOpacity: .4,
                  };
               }

               // function style_Tribes(feature){
               //     return {
               //         color: TribeColors(feature.properties.ID),
               //         weight: 4,
               //         opacity: 1,
               //         // color: 'darkgray',
               //         // fillOpacity: .5,
               //       };
               //    }


    //
    //   function highlightFeature(e) {
    //       // Get access to the feature that was hovered through e.target
    //       var feature = e.target;
    //
    //       // Set a thick grey border on the feature as mouseover effect
    //       // Adjust the values below to change the highlighting styles of features on mouseover
    //       // Check out https://leafletjs.com/reference-1.3.4.html#path for more options for changing style
    //       feature.setStyle({
    //           weight: 5,
    //           color: '#FFFFFF',
    //           fillOpacity: 0.7
    //       });
    //
    //       // Bring the highlighted feature to front so that the border doesnâ€™t clash with nearby states
    //       // But not for IE, Opera or Edge, since they have problems doing bringToFront on mouseover
    //       if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
    //           feature.bringToFront();
    //       }
    //   }
    //
    //   var aceneg; // define a variable to make the geojson layer accessible for the funtion to use
    //   var monfis; //2nd variable
    //
    //   function resetHighlight(e) {
    //       aceneg.resetStyle(e.target), monfis.resetStyle(e.target);
    //   }
    //
    //   function onEachFeature(feature, layer) {
    // layer.on({
    //     mouseover: highlightFeature, // Do what defined by the highlightFeature function on mouseover
    //     mouseout: resetHighlight,    // Do what defined by the resetHighlight function on mouseout
//     // });
// }


    aceneg = L.geoJson(Species_by_County,{
          style:style_aceneg,
          // onEachFeature: onEachFeature
        }).bindTooltip(function (layer){
          return layer.feature.properties.NAME + ' County'
          }).addTo(map);

              // var covidlegend = L.control({position: 'bottomleft'}); // Try the other three corners if you like.
              //
              // covidlegend.onAdd = function (map) {
              //
              // var div = L.DomUtil.create('div', 'legend'),
              // grades = [0, 1, 2, 3, 4, 5, 6]; // The break values to define the intervals of population, note we begin from 0 here
              // div.innerHTML = '<b>Percentage Tested Positive <br>for Covid 19 <br></b>'; // The legend title (HTML-based)
              //
              // // Loop through all the classes and generate a label with a color box for each interval.
              // // If you are creating a choropleth map, you DO NOT need to change lines below.
              // for (var i = 0; i < grades.length; i++) {
              // div.innerHTML +=
              // '<i style="background:' + getColor(grades[i] + 1) + '"></i>' +
              // grades[i] + (grades[i + 1] ? '&ndash;' + grades[i + 1] + '<br>' : '+');
              // }
              //
              // return div;
              // };

        acesai = L.geoJson(Species_by_County,{
        style:style_acesai,
        // onEachFeature: onEachFeature
        }).bindTooltip(function (layer){
        return layer.feature.properties.NAME + ' County'
        }).addTo(map);

        ascsyr = L.geoJson(Species_by_County,{
        style:style_ascsyr,
        // onEachFeature: onEachFeature
        }).bindTooltip(function (layer){
        return layer.feature.properties.NAME + ' County'
        }).addTo(map);

        cicmac = L.geoJson(Species_by_County,{
        style:style_cicmac,
        // onEachFeature: onEachFeature
        }).bindTooltip(function (layer){
        return layer.feature.properties.NAME + ' County'
        }).addTo(map);

        germac = L.geoJson(Species_by_County,{
        style:style_germac,
        // onEachFeature: onEachFeature
        }).bindTooltip(function (layer){
        return layer.feature.properties.NAME + ' County'
        }).addTo(map);

        hypper_NNa = L.geoJson(Species_by_County,{
        style:style_hypper_NNa,
        // onEachFeature: onEachFeature
        }).bindTooltip(function (layer){
        return layer.feature.properties.NAME + ' County'
        }).addTo(map);

        monfis = L.geoJson(Species_by_County,{
        style:style_monfis,
        // onEachFeature: onEachFeature
        }).bindTooltip(function (layer){
        return layer.feature.properties.NAME + ' County'
        }).addTo(map);

        nepcat_NNa = L.geoJson(Species_by_County,{
        style:style_nepcat_NNa,
        // onEachFeature: onEachFeature
        }).bindTooltip(function (layer){
        return layer.feature.properties.NAME + ' County'
        }).addTo(map);

        podpel = L.geoJson(Species_by_County,{
        style:style_podpel,
        // onEachFeature: onEachFeature
        }).bindTooltip(function (layer){
        return layer.feature.properties.NAME + ' County'
        }).addTo(map);

        popdel = L.geoJson(Species_by_County,{
        style:style_popdel,
        // onEachFeature: onEachFeature
        }).bindTooltip(function (layer){
        return layer.feature.properties.NAME + ' County'
        }).addTo(map);


Tribes = L.geoJson(Tribes,{
    style:style_Tribes,
    // onEachFeature: onEachFeature
  }).bindTooltip(function (layer){
    return layer.feature.properties.Name
    }).addTo(map);

    //
    //
    //
    // Richmond = L.geoJson(Richmond).addTo(map);
    //
    //   Richmond.bindPopup('<p style="color:Black"> <b>Richmond, VA</b> <br> State Capital </p>');



              //
              // covidlegend.addTo(map);
              // popdenlegend.addTo(map);

              var basemaps = {
              // "Terrain Raster": terrain2,
              // "Antique Canvas": antique,
              // "Watercolor Canvas": watercolor,
              "<i>Acer negundo - Boxelder</i>": aceneg,
              "<i>Acer saccharinum - Silver Maple</i>": acesai,
              "<i>Asclepias syriaca - Common Milkweed</i>": ascsyr,
              "<i>Cicuta maculata - Water Hemlock</i>": cicmac,
              "<i>Geranium maculatum - Wild Geranium</i>": germac,
              "<i>Hypericum perforatum - St John's Wort</i>": hypper_NNa,
              "<i>Monarda fistulosa - Wild Bergamot</i>": monfis,
              "<i>Nepeta cataria - Catnip</i>": nepcat_NNa,
              "<i>Podophyllum peltatum - Mayapple</i>": podpel,
              "<i>Populus deltoides - Eastern Cottonwood</i>": popdel,

             };

             var overlays = {
             "Tribe territories": Tribes

             };

             L.control.layers(basemaps, overlays).addTo(map);

                       // // Removing the legend when the layer is removed
                       // map.on('overlayremove', function(eventLayer){
                       //   if (eventLayer.name == 'Percentage of Positive Cases'){ // We use the key/display name to refer to the layer
                       //     map.removeControl(covidlegend); // legend is the variable name of the layer legend
                       //   }
                       // });
                       //
                       // // Adding the legend when the layer is added
                       // map.on('overlayadd', function(eventLayer){
                       //   if (eventLayer.name == 'Percentage of Positive Cases'){
                       //     covidlegend.addTo(map);
                       //   }
                       // });
                       //
                       //
                       // map.on('overlayremove', function(eventLayer){
                       //   if (eventLayer.name == 'Population Density'){ // We use the key/display name to refer to the layer
                       //     map.removeControl(popdenlegend); // legend is the variable name of the layer legend
                       //   }
                       // });
                       //
                       // // Adding the legend when the layer is added
                       // map.on('overlayadd', function(eventLayer){
                       //   if (eventLayer.name == 'Population Density'){
                       //     popdenlegend.addTo(map);
                       //   }
                       // });



        </script>
   </body>
</html>
